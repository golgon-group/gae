jQuery(document).ready(function($){"use strict";$('form.contact-form').submit(function(){var f=$(this).find('.form-group'),ferror=!1,emailExp=/^[^\s()<>@,;:\/]+@\w[\w\.-]+\.[a-z]{2,}$/i;$('.validate').html('');f.children('input').each(function(){var i=$(this);var rule=i.attr('data-rule');if(rule!==undefined){var ierror=!1;var pos=rule.indexOf(':',0);if(pos>=0){var exp=rule.substr(pos+1,rule.length);rule=rule.substr(0,pos)}else{rule=rule.substr(pos+1,rule.length)}
switch(rule){case 'required':if(i.val()===''){ferror=ierror=!0}
break;case 'minlen':if(i.val().length<parseInt(exp)){ferror=ierror=!0}
break;case 'email':if(!emailExp.test(i.val())){ferror=ierror=!0}
break;case 'checked':if(!i.is(':checked')){ferror=ierror=!0}
break;case 'regexp':exp=new RegExp(exp);if(!exp.test(i.val())){ferror=ierror=!0}
break}
i.next('.validate').html((ierror?(i.attr('data-msg')!==undefined?i.attr('data-msg'):'wrong Input'):'')).show('blind')}});f.children('textarea').each(function(){var i=$(this);var rule=i.attr('data-rule');if(rule!==undefined){var ierror=!1;var pos=rule.indexOf(':',0);if(pos>=0){var exp=rule.substr(pos+1,rule.length);rule=rule.substr(0,pos)}else{rule=rule.substr(pos+1,rule.length)}
switch(rule){case 'required':if(i.val()===''){ferror=ierror=!0}
break;case 'minlen':if(i.val().length<parseInt(exp)){ferror=ierror=!0}
break}
i.next('.validate').html((ierror?(i.attr('data-msg')!=undefined?i.attr('data-msg'):'wrong Input'):'')).show('blind')}});if(ferror)return!1;else var str=$(this).serialize();var this_form=$(this);var action=$(this).attr('action');if(!action){this_form.find('.loading').slideUp();this_form.find('.error-message').slideDown().html('The form action property is not set!');return!1}
this_form.find('.sent-message').slideUp();this_form.find('.error-message').slideUp();this_form.find('.loading').slideDown();$.ajax({type:"POST",url:action,dataType:"json",data:str,success:function(data){if(data.success==!0){this_form.find('.loading').slideUp();this_form.find('.sent-message').slideDown().html(data.msg)}else{this_form.find('.loading').slideUp();this_form.find('.error-message').slideDown().html(data.msg)}}});return!1})})